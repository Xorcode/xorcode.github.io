<!DOCTYPE html>
<html lang="en">

  <head>
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta charset="utf-8">
  <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">

  <title>Setting up Zend Framework — Part 1</title>
  <meta name="description" content="Zend Framework has a straightforward setup process providing that the developer sets everything up manually. This guide illustrates how to set up a modular i...">

  <script src="https://use.typekit.net/nsl7rga.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/js/vendor/jquery.min.js"><\/script>')</script>

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://xorcode.com/code/2011/04/01/setting-up-zend-framework-part-1.html">
  <link rel="alternate" type="application/rss+xml" title="Xorcode" href="/feed.xml">

  
</head>


  <body class="post">

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      <img src="/assets/img/logotype-light.png" alt="Xorcode">
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <span class="fa fa-bars fa-2x" aria-hidden="true" title="Skip to main navigation"><span class="sr-only">Skip to main navigation</span></span>
    </a>
    <nav role="navigation">
      <ul id="menu-primary-menu" class="navigation-menu show">
        <li class='menu-item'><a href='blog/categories/cloud'>Cloud</a></li><li class='menu-item'><a href='blog/categories/code'>Code</a></li><li class='menu-item'><a href='blog/categories/server'>Server</a></li>
      </ul>
    </nav>
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <section class="blog-entry left">
  <article class="type-post" itemscope itemtype="http://schema.org/BlogPosting">
    

<span class="type">
  
    <a class='category' href='/blog/categories/code/'>Code</a>
  
</span>


    <h1 itemprop="name headline">Setting up Zend Framework — Part 1</h1>
    <p class="date post-meta"><time datetime="2011-04-01T00:35:22+00:00" itemprop="datePublished">Apr 1, 2011</time></p>
    <p>Zend Framework has a straightforward setup process providing that the developer sets everything up manually. This guide illustrates how to set up a modular installation of Zend Framework.</p>

<!--more-->

<blockquote>
  <p><img src="/assets/uploads/2011/03/zf-logo-mark1.png" class="pull-right" /> Extending the art and spirit of PHP, Zend Framework is based on simplicity, object-oriented best practices, corporate friendly licensing, and a rigorously tested agile codebase.</p>
</blockquote>

<h2 id="requirements">Requirements</h2>

<ul>
  <li><a href="http://www.zend.com/en/products/server-ce/">Zend Server</a> – Complete LAMP stack</li>
  <li>or <a href="http://xorcode.net/lWTo2d">Apache 2.2</a> and <a href="http://xorcode.net/jBkXxG">PHP 5.3.x</a></li>
  <li><a href="http://xorcode.net/lm0zQC">Zend Framework 1.11.x</a></li>
</ul>

<h2 id="project-creation">Project Creation</h2>

<p>We will create the project manually since the default settings for Zend Framework do not conform with the module-based structure we desire.</p>

<h3 id="file-structure">File Structure</h3>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code>myapp/
myapp/application/
myapp/application/configs/
myapp/application/layouts/
myapp/application/layouts/scripts/
myapp/application/modules/
myapp/application/modules/default/
myapp/application/modules/default/controllers/
myapp/application/modules/default/views/scripts/index/
myapp/application/modules/default/views/scripts/error/
myapp/library/
myapp/library/Myapp/
myapp/library/Myapp/Application/Resource
myapp/public/
myapp/public/lib/
myapp/public/lib/css/
myapp/public/lib/js/
myapp/public/lib/img/
</code></pre>
</div>

<h3 id="creating-necessary-files">Creating necessary files</h3>

<figure class="highlight"><figcaption>File: myapp/public/.htaccess</figcaption><pre><code class="language-shell" data-lang="shell">RewriteEngine On
RewriteCond %<span class="o">{</span>REQUEST_FILENAME<span class="o">}</span> -s <span class="o">[</span>OR]
RewriteCond %<span class="o">{</span>REQUEST_FILENAME<span class="o">}</span> -l <span class="o">[</span>OR]
RewriteCond %<span class="o">{</span>REQUEST_FILENAME<span class="o">}</span> -d
RewriteRule ^.<span class="k">*</span><span class="nv">$ </span>- <span class="o">[</span>NC,L]
RewriteRule ^.<span class="k">*</span><span class="nv">$ </span>index.php <span class="o">[</span>NC,L]</code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/public/index.php</figcaption><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Define path to application directory
</span><span class="nb">defined</span><span class="p">(</span><span class="s1">'APPLICATION_PATH'</span><span class="p">)</span>
    <span class="o">||</span> <span class="nb">define</span><span class="p">(</span><span class="s1">'APPLICATION_PATH'</span><span class="p">,</span>
              <span class="nb">realpath</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">'/../application'</span><span class="p">));</span>

<span class="c1">// Define application environment
</span><span class="nb">defined</span><span class="p">(</span><span class="s1">'APPLICATION_ENV'</span><span class="p">)</span>
    <span class="o">||</span> <span class="nb">define</span><span class="p">(</span><span class="s1">'APPLICATION_ENV'</span><span class="p">,</span>
              <span class="p">(</span><span class="nb">getenv</span><span class="p">(</span><span class="s1">'APPLICATION_ENV'</span><span class="p">)</span> <span class="o">?</span> <span class="nb">getenv</span><span class="p">(</span><span class="s1">'APPLICATION_ENV'</span><span class="p">)</span>
                                         <span class="o">:</span> <span class="s1">'production'</span><span class="p">));</span>

<span class="c1">// Typically, you will also want to add your library/ directory
// to the include_path, particularly if it contains your ZF installed
</span><span class="nb">set_include_path</span><span class="p">(</span><span class="nb">implode</span><span class="p">(</span><span class="nx">PATH_SEPARATOR</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="nb">dirname</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">))</span> <span class="o">.</span> <span class="s1">'/library'</span><span class="p">,</span>
    <span class="nb">get_include_path</span><span class="p">(),</span>
<span class="p">)));</span>

<span class="sd">/** Zend_Application */</span>
<span class="k">require_once</span> <span class="s1">'Zend/Application.php'</span><span class="p">;</span>

<span class="c1">// Create application, bootstrap, and run
</span><span class="nv">$application</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Application</span><span class="p">(</span>
    <span class="nx">APPLICATION_ENV</span><span class="p">,</span>
    <span class="nx">APPLICATION_PATH</span> <span class="o">.</span> <span class="s1">'/configs/application.xml'</span>
<span class="p">);</span>
<span class="nv">$application</span><span class="o">-&gt;</span><span class="na">bootstrap</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">run</span><span class="p">();</span>
<span class="cp">?&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/Bootstrap.php</figcaption><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">Bootstrap</span> <span class="k">extends</span> <span class="nx">Zend_Application_Bootstrap_Bootstrap</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">?&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/configs/application.xml</figcaption><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;config</span> <span class="na">xmlns:zf=</span><span class="s">"http://framework.zend.com/xml/zend-config-xml/1.0/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;global&gt;</span>
        <span class="nt">&lt;appnamespace&gt;</span>Application<span class="nt">&lt;/appnamespace&gt;</span>

        <span class="nt">&lt;autoloaderNamespaces&gt;</span>
            <span class="nt">&lt;myapp&gt;</span>Myapp<span class="nt">&lt;/myapp&gt;</span>
        <span class="nt">&lt;/autoloaderNamespaces&gt;</span>

        <span class="nt">&lt;bootstrap&gt;</span>
            <span class="nt">&lt;path&gt;&lt;zf:const</span> <span class="na">zf:name=</span><span class="s">"APPLICATION_PATH"</span> <span class="nt">/&gt;</span>/Bootstrap.php<span class="nt">&lt;/path&gt;</span>
            <span class="nt">&lt;class&gt;</span>Bootstrap<span class="nt">&lt;/class&gt;</span>
        <span class="nt">&lt;/bootstrap&gt;</span>

        <span class="nt">&lt;includePaths&gt;</span>
            <span class="nt">&lt;library&gt;&lt;zf:const</span> <span class="na">zf:name=</span><span class="s">"APPLICATION_PATH"</span> <span class="nt">/&gt;</span>/../library<span class="nt">&lt;/library&gt;</span>
        <span class="nt">&lt;/includePaths&gt;</span>

        <span class="nt">&lt;phpSettings&gt;</span>
            <span class="nt">&lt;date&gt;</span>
                <span class="nt">&lt;timezone&gt;</span>America/New_York<span class="nt">&lt;/timezone&gt;</span>
            <span class="nt">&lt;/date&gt;</span>
        <span class="nt">&lt;/phpSettings&gt;</span>

        <span class="nt">&lt;pluginPaths&gt;</span>
            <span class="nt">&lt;Myapp_Application_Resource&gt;</span>Myapp/Application/Resource<span class="nt">&lt;/Myapp_Application_Resource&gt;</span>
        <span class="nt">&lt;/pluginPaths&gt;</span>

        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;frontController&gt;</span>
                <span class="nt">&lt;defaultAction&gt;</span>index<span class="nt">&lt;/defaultAction&gt;</span>
                <span class="nt">&lt;defaultControllerName&gt;</span>index<span class="nt">&lt;/defaultControllerName&gt;</span>
                <span class="nt">&lt;defaultModule&gt;</span>default<span class="nt">&lt;/defaultModule&gt;</span>
                <span class="nt">&lt;controllerDirectory&gt;&lt;zf:const</span> <span class="na">zf:name=</span><span class="s">"APPLICATION_PATH"</span> <span class="nt">/&gt;</span>/controllers<span class="nt">&lt;/controllerDirectory&gt;</span>
                <span class="nt">&lt;moduleDirectory&gt;&lt;zf:const</span> <span class="na">zf:name=</span><span class="s">"APPLICATION_PATH"</span> <span class="nt">/&gt;</span>/modules<span class="nt">&lt;/moduleDirectory&gt;</span>
            <span class="nt">&lt;/frontController&gt;</span>

            <span class="nt">&lt;layout&gt;</span>
                <span class="nt">&lt;layoutPath&gt;&lt;zf:const</span> <span class="na">zf:name=</span><span class="s">"APPLICATION_PATH"</span> <span class="nt">/&gt;</span>/layouts/scripts/<span class="nt">&lt;/layoutPath&gt;</span>
            <span class="nt">&lt;/layout&gt;</span>

            <span class="nt">&lt;locale&gt;</span>
                <span class="nt">&lt;default&gt;</span>en<span class="nt">&lt;/default&gt;</span>
            <span class="nt">&lt;/locale&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/global&gt;</span>

    <span class="nt">&lt;production</span> <span class="na">zf:extends=</span><span class="s">"global"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;phpSettings&gt;</span>
            <span class="nt">&lt;display_startup_errors&gt;</span>0<span class="nt">&lt;/display_startup_errors&gt;</span>
            <span class="nt">&lt;display_errors&gt;</span>0<span class="nt">&lt;/display_errors&gt;</span>
        <span class="nt">&lt;/phpSettings&gt;</span>

        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;modules&gt;</span>
                <span class="nt">&lt;placeholder</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/modules&gt;</span>

            <span class="nt">&lt;view&gt;</span>
                <span class="nt">&lt;basePath&gt;&lt;zf:const</span> <span class="na">zf:name=</span><span class="s">"APPLICATION_PATH"</span> <span class="nt">/&gt;</span>/views<span class="nt">&lt;/basePath&gt;</span>
                <span class="nt">&lt;helperPath&gt;</span>
                    <span class="nt">&lt;Myapp_View_Helper&gt;</span>Myapp/View/Helper<span class="nt">&lt;/Myapp_View_Helper&gt;</span>
                <span class="nt">&lt;/helperPath&gt;</span>
            <span class="nt">&lt;/view&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/production&gt;</span>

    <span class="nt">&lt;staging</span> <span class="na">zf:extends=</span><span class="s">"production"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;phpSettings&gt;</span>
            <span class="nt">&lt;display_startup_errors&gt;</span>1<span class="nt">&lt;/display_startup_errors&gt;</span>
            <span class="nt">&lt;display_errors&gt;</span>1<span class="nt">&lt;/display_errors&gt;</span>
        <span class="nt">&lt;/phpSettings&gt;</span>
    <span class="nt">&lt;/staging&gt;</span>

    <span class="nt">&lt;development</span> <span class="na">zf:extends=</span><span class="s">"production"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;phpSettings&gt;</span>
            <span class="nt">&lt;display_startup_errors&gt;</span>1<span class="nt">&lt;/display_startup_errors&gt;</span>
            <span class="nt">&lt;display_errors&gt;</span>1<span class="nt">&lt;/display_errors&gt;</span>
        <span class="nt">&lt;/phpSettings&gt;</span>

        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;frontController&gt;</span>
                <span class="nt">&lt;disableOutputBuffering&gt;</span>1<span class="nt">&lt;/disableOutputBuffering&gt;</span>
                <span class="nt">&lt;params&gt;</span>
                    <span class="nt">&lt;displayExceptions&gt;</span>1<span class="nt">&lt;/displayExceptions&gt;</span>
                <span class="nt">&lt;/params&gt;</span>
            <span class="nt">&lt;/frontController&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/development&gt;</span>
<span class="nt">&lt;/config&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/modules/default/controllers/IndexController.php</figcaption><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'Zend/Controller/Action.php'</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">IndexController</span> <span class="k">extends</span> <span class="nx">Zend_Controller_Action</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span> <span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">sitemapAction</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">layout</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">disableLayout</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_helper</span><span class="o">-&gt;</span><span class="na">viewRenderer</span><span class="o">-&gt;</span><span class="na">setNoRender</span><span class="p">();</span>
        <span class="nv">$sitemap</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">navigation</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">sitemap</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="na">setUseXmlDeclaration</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">setFormatOutput</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">setUseSitemapValidators</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">setRole</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'application/xml'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$sitemap</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">robotsAction</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">layout</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">disableLayout</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'text/plain'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/modules/default/controllers/ErrorController.php</figcaption><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'Zend/Controller/Action.php'</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">ErrorController</span> <span class="k">extends</span> <span class="nx">Zend_Controller_Action</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">errorAction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$errors</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_getParam</span><span class="p">(</span><span class="s1">'error_handler'</span><span class="p">);</span>

        <span class="k">switch</span> <span class="p">(</span><span class="nv">$errors</span><span class="o">-&gt;</span><span class="na">type</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="nx">Zend_Controller_Plugin_ErrorHandler</span><span class="o">::</span><span class="na">EXCEPTION_NO_ROUTE</span><span class="o">:</span>
            <span class="k">case</span> <span class="nx">Zend_Controller_Plugin_ErrorHandler</span><span class="o">::</span><span class="na">EXCEPTION_NO_CONTROLLER</span><span class="o">:</span>
            <span class="k">case</span> <span class="nx">Zend_Controller_Plugin_ErrorHandler</span><span class="o">::</span><span class="na">EXCEPTION_NO_ACTION</span><span class="o">:</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setHttpResponseCode</span><span class="p">(</span><span class="mi">404</span><span class="p">);</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">(</span><span class="s1">'Page Not Found'</span><span class="p">);</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">requestUri</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getPathInfo</span><span class="p">();</span>
                <span class="nv">$view</span> <span class="o">=</span> <span class="s1">'notfound'</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getResponse</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setHttpResponseCode</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">(</span><span class="s1">'Application Error'</span><span class="p">);</span>
                <span class="nv">$view</span> <span class="o">=</span> <span class="s1">'error'</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nv">$log</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getLog</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$log</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$log</span><span class="o">-&gt;</span><span class="na">crit</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">message</span><span class="p">,</span> <span class="nv">$errors</span><span class="o">-&gt;</span><span class="na">exception</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// conditionally display exceptions
</span>        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getInvokeArg</span><span class="p">(</span><span class="s1">'displayExceptions'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">exception</span> <span class="o">=</span> <span class="nv">$errors</span><span class="o">-&gt;</span><span class="na">exception</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">view</span><span class="o">-&gt;</span><span class="na">request</span> <span class="o">=</span> <span class="nv">$errors</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">;</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$view</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getLog</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$bootstrap</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getInvokeArg</span><span class="p">(</span><span class="s1">'bootstrap'</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$bootstrap</span><span class="o">-&gt;</span><span class="na">hasPluginResource</span><span class="p">(</span><span class="s1">'Log'</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$log</span> <span class="o">=</span> <span class="nv">$bootstrap</span><span class="o">-&gt;</span><span class="na">getResource</span><span class="p">(</span><span class="s1">'Log'</span><span class="p">);</span>
        <span class="k">return</span> <span class="nv">$log</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/library/Myapp/Application/Resource/View.php</figcaption><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="p">(</span><span class="s1">'Zend/Application/Resource/ResourceAbstract.php'</span><span class="p">);</span>
<span class="k">class</span> <span class="nc">Myapp_Application_Resource_View</span> <span class="k">extends</span> <span class="nx">Zend_Application_Resource_ResourceAbstract</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">static</span> <span class="nv">$_view</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">init</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getView</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getView</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="kc">null</span> <span class="o">===</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_View</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getOptions</span><span class="p">());</span>
            <span class="nv">$layout</span> <span class="o">=</span> <span class="nx">Zend_Layout</span><span class="o">::</span><span class="na">getMvcInstance</span><span class="p">();</span>
            <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">(</span><span class="s1">'HTML5'</span><span class="p">);</span>
            <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="o">-&gt;</span><span class="na">setEncoding</span><span class="p">(</span><span class="s1">'UTF-8'</span><span class="p">);</span>
            <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="o">-&gt;</span><span class="na">addHelperPath</span><span class="p">(</span><span class="s1">'Myapp/View/Helper'</span><span class="p">);</span>
            <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">(</span><span class="s1">'Myapp'</span><span class="p">)</span>
                <span class="o">-&gt;</span><span class="na">setSeparator</span><span class="p">(</span><span class="s1">' - '</span><span class="p">);</span>
            <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span>
                <span class="o">-&gt;</span><span class="na">appendHttpEquiv</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="nb">sprintf</span><span class="p">(</span><span class="s1">'text/html; charset=%s'</span><span class="p">,</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="o">-&gt;</span><span class="na">getEncoding</span><span class="p">()));</span>
            <span class="nv">$viewRenderer</span> <span class="o">=</span> <span class="nx">Zend_Controller_Action_HelperBroker</span><span class="o">::</span><span class="na">getStaticHelper</span><span class="p">(</span><span class="s1">'ViewRenderer'</span><span class="p">);</span>
            <span class="nv">$viewRenderer</span><span class="o">-&gt;</span><span class="na">setView</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$_view</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/layouts/scripts/layout.phtml</figcaption><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">doctype</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;html&gt;</span>

<span class="nt">&lt;head&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headMeta</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headStyle</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headLink</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headScript</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">content</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/modules/default/views/scripts/index/index.phtml</figcaption><pre><code class="language-php" data-lang="php"><span class="nt">&lt;h1&gt;</span>Index page<span class="nt">&lt;/h1&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/modules/default/views/scripts/error/error.phtml</figcaption><pre><code class="language-php" data-lang="php"><span class="nt">&lt;h1&gt;</span>Application Error<span class="nt">&lt;/h1&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;h3&gt;</span>Exception information:<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;p&gt;&lt;strong&gt;</span>Message:<span class="nt">&lt;/strong&gt;</span> <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h3&gt;</span>Stack trace:<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">"code"</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="o">-&gt;</span><span class="na">getTraceAsString</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/pre&gt;</span>

<span class="nt">&lt;h3&gt;</span>Request Parameters:<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">"code"</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">var_export</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">(),</span> <span class="kc">true</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="nt">&lt;/pre&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span></code></pre></figure>

<figure class="highlight"><figcaption>File: myapp/application/modules/default/views/scripts/error/notfound.phtml</figcaption><pre><code class="language-php" data-lang="php"><span class="nt">&lt;h1&gt;</span>Page not found<span class="nt">&lt;/h1&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span>

<span class="nt">&lt;h3&gt;</span>Exception information:<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;p&gt;&lt;strong&gt;</span>Message:<span class="nt">&lt;/strong&gt;</span> <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;h3&gt;</span>Stack trace:<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">"code"</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="o">-&gt;</span><span class="na">getTraceAsString</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/pre&gt;</span>

<span class="nt">&lt;h3&gt;</span>Request Parameters:<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">"code"</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">var_export</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">(),</span> <span class="kc">true</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="nt">&lt;/pre&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span class="cp">?&gt;</span>

<span class="nt">&lt;p&gt;</span>The page <span class="nt">&lt;strong&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">requestUri</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="nt">&lt;/strong&gt;</span> could not be found.<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;p&gt;</span>There are a few things you can try:<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>Reload the page<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>Check the URL and try again<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>Go to the <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">baseUrl</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span>home<span class="nt">&lt;/a&gt;</span> page<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span></code></pre></figure>

<h2 id="further-reading">Further Reading</h2>

<ul>
  <li><a href="http://framework.zend.com/manual/en/learning.quickstart.intro.html" target="_blank">Zend Framework MVC Introduction</a></li>
  <li><a href="http://framework.zend.com/manual/en/learning.quickstart.create-project.html" target="_blank">Zend Framework Quick Start</a></li>
</ul>

<p>In the next installation in this series of guides we will cover the necessary basics for a fully fledged Zend Framework application including View plugins, Application Resource plugins, and how to prepare your application to be modular and easy to extend.</p>

    
    
      
        <p>
          
            <a href="/blog/tags/web.html" rel="tag">web</a>, <a href="/blog/tags/zend.html" rel="tag">zend</a>, <a href="/blog/tags/php.html" rel="tag">php</a>
          
        </p>
      
    
    <ul class="pager" style="padding-bottom:20px;">
      <li class="previous"><a href="/cloud/2011/03/27/auto-scaling-with-ec2.html" title="Previous Post: Auto-Scaling with EC2" class="button"><i class="fa fa-arrow-left" aria-hidden="true"></i> Previous article</a></li>
      <li class="next"><a href="/code/2011/04/11/solarized-vim-eclipse-ubuntu.html" title="Next Post: Using Solarized colors with vim, Eclipse, and Ubuntu" class="button">Next article <i class="fa fa-arrow-right" aria-hidden="true"></i></a></li>
    </ul>
    
      
    
  </article>
</section>

      </div>
    </main>

    <footer class="footer" role="contentinfo">
  <div class="footer-logo">
    <img src="/assets/img/logo-mark-light.png " alt="Xorcode">
  </div>
  <div class="footer-links">
    <ul>
      <li><h3>Content</h3></li>
      <li><a href='blog/categories/cloud'>Cloud</a></li><li><a href='blog/categories/code'>Code</a></li><li><a href='blog/categories/server'>Server</a></li>
    </ul>
    <ul>
      <li><h3>Follow Us</h3></li>
      <li><a href="javascript:void(0)"><i class="fa fa-twitter fa-inverse"></i> Twitter</a></li>
      <li><a href="javascript:void(0)"><i class="fa fa-github fa-inverse"></i> Github</a></li>
      <li><a href="javascript:void(0)"><i class="fa fa-bitbucket fa-inverse"></i> Bitbucket</a></li>
      <li><a href="javascript:void(0)"><i class="fa fa-facebook fa-inverse"></i> Facebook</a></li>
      <li><a href="javascript:void(0)"><i class="fa fa-linkedin fa-inverse"></i> LinkedIn</a></li>
      <li><a href="javascript:void(0)"><i class="fa fa-google-plus fa-inverse"></i> Google+</a></li>
    </ul>
    <ul>
      <li><h3>Legal</h3></li>
      <li><a href="javascript:void(0)">Terms and Conditions</a></li>
      <li><a href="javascript:void(0)">Privacy Policy</a></li>
    </ul>
  </div>

  <hr>

  <p>Copyright © 2003–2017 Xorcode, all rights reserved. Content available under the <span class="fa fa-creative-commons"></span> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons BY-NC-SA 4.0</a> license.</p>
</footer>


    <script src="/assets/js/jquery.matchHeight.js"></script>
    <script src="/assets/js/functions.js"></script>
  </body>

</html>
